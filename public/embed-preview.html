<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quran.com Embed Widget Generator</title>
    <style>
        :root {
            --primary: #2ca4ab;
            --primary-dark: #1f8c93;
            --bg: #f5f7fa;
            --card-bg: #ffffff;
            --text: #1f2937;
            --text-muted: #6b7280;
            --border: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
        }

        header h1 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        header p {
            color: var(--text-muted);
        }

        .main-grid {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 2rem;
            align-items: start;
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }

        .panel-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--border);
        }

        .form-group {
            margin-bottom: 1.25rem;
        }

        .form-group label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.625rem 0.875rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.9375rem;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(44, 164, 171, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-row-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1rem;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary);
        }

        .checkbox-group label {
            margin-bottom: 0;
            cursor: pointer;
        }

        .section-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin: 1.5rem 0 1rem;
            font-weight: 600;
        }

        .preview-container {
            position: sticky;
            top: 2rem;
        }

        .preview-frame-wrapper {
            background: #f0f0f0;
            border-radius: 8px;
            padding: 1rem;
            min-height: 300px;
            margin-bottom: 1.5rem;
        }

        .preview-frame-wrapper.dark-preview {
            background: #1a1a1a;
        }

        #preview-iframe {
            width: 100%;
            min-height: 250px;
            border: none;
            border-radius: 8px;
            background: white;
        }

        .code-section {
            margin-top: 1.5rem;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .code-header h4 {
            font-size: 0.875rem;
            font-weight: 600;
        }

        .copy-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.8125rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.375rem;
            transition: background 0.2s;
        }

        .copy-btn:hover {
            background: var(--primary-dark);
        }

        .copy-btn.copied {
            background: #059669;
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.8125rem;
            overflow-x: auto;
            white-space: pre-wrap;
            word-break: break-all;
        }

        .url-display {
            background: #f8fafc;
            border: 1px solid var(--border);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            font-family: monospace;
            font-size: 0.8125rem;
            word-break: break-all;
            margin-bottom: 1rem;
        }

        .btn-refresh {
            width: 100%;
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.875rem 1.5rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
            margin-top: 1rem;
        }

        .btn-refresh:hover {
            background: var(--primary-dark);
        }

        .translations-list {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 0.5rem;
        }

        .translation-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            border-radius: 4px;
            cursor: pointer;
        }

        .translation-item:hover {
            background: #f3f4f6;
        }

        .translation-item input {
            width: 16px;
            height: 16px;
            accent-color: var(--primary);
        }

        .translation-item label {
            flex: 1;
            cursor: pointer;
            font-size: 0.875rem;
        }

        .translation-item .lang-badge {
            font-size: 0.6875rem;
            background: #e5e7eb;
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
            text-transform: uppercase;
        }

        .chapter-info {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.25rem;
        }

        .info-box {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            border-radius: 8px;
            padding: 0.75rem 1rem;
            font-size: 0.8125rem;
            color: #1e40af;
            margin-bottom: 1rem;
        }

        .error-box {
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 8px;
            padding: 0.75rem 1rem;
            font-size: 0.8125rem;
            color: #991b1b;
            margin-bottom: 1rem;
            display: none;
        }

        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .tab-btn {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border);
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .tab-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Font preview styles */
        .font-preview {
            margin-top: 0.5rem;
            padding: 0.75rem;
            background: #f8fafc;
            border-radius: 6px;
            text-align: right;
            direction: rtl;
        }

        .font-sample {
            font-size: 1.25rem;
            font-family: "KFGQPC Uthmanic Script HAFS", "Traditional Arabic", "Scheherazade", serif;
            color: var(--text);
        }

        /* Audio options panel */
        .audio-options-panel {
            padding: 1rem;
            background: #f8fafc;
            border-radius: 8px;
            margin-top: 0.5rem;
            border: 1px solid var(--border);
        }

        .audio-options-panel .form-group:last-child {
            margin-bottom: 0;
        }

        /* Feature badge */
        .feature-badge {
            display: inline-block;
            font-size: 0.625rem;
            padding: 0.125rem 0.375rem;
            background: #fef3c7;
            color: #92400e;
            border-radius: 4px;
            margin-left: 0.5rem;
            text-transform: uppercase;
            font-weight: 600;
        }

        .feature-badge.new {
            background: #d1fae5;
            color: #065f46;
        }

        /* Quick presets */
        .presets-section {
            margin-bottom: 1rem;
        }

        .presets-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }

        .preset-btn {
            padding: 0.75rem;
            border: 1px solid var(--border);
            background: white;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            transition: all 0.2s;
        }

        .preset-btn:hover {
            border-color: var(--primary);
            background: #f0fdf4;
        }

        .preset-btn .preset-title {
            font-weight: 600;
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .preset-btn .preset-desc {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* Word by word option */
        .wbw-options {
            padding: 0.75rem;
            background: #f8fafc;
            border-radius: 8px;
            margin-top: 0.5rem;
            border: 1px solid var(--border);
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>üïã Quran.com Embed Widget Generator</h1>
            <p>Configure and preview embeddable Quran verses for your website</p>
        </header>

        <div class="main-grid">
            <!-- Configuration Panel -->
            <div class="panel">
                <h3 class="panel-title">‚öôÔ∏è Configuration</h3>

                <div class="info-box">
                    üí° Configure your embed settings below and see the live preview on the right.
                </div>

                <div id="error-box" class="error-box"></div>

                <!-- Quick Presets -->
                <div class="presets-section">
                    <div class="section-title">‚ö° Quick Presets</div>
                    <div class="presets-grid">
                        <button class="preset-btn" onclick="applyPreset('ayahOfDay')">
                            <div class="preset-title">üìÖ Ayah of the Day</div>
                            <div class="preset-desc">Single verse with translation</div>
                        </button>
                        <button class="preset-btn" onclick="applyPreset('alFatiha')">
                            <div class="preset-title">üìñ Al-Fatiha</div>
                            <div class="preset-desc">Full opening chapter</div>
                        </button>
                        <button class="preset-btn" onclick="applyPreset('ayatulKursi')">
                            <div class="preset-title">ü™ë Ayatul Kursi</div>
                            <div class="preset-desc">Verse 2:255</div>
                        </button>
                        <button class="preset-btn" onclick="applyPreset('lastTenSurahs')">
                            <div class="preset-title">üåô Last 3 Quls</div>
                            <div class="preset-desc">Al-Ikhlas, Al-Falaq, An-Nas</div>
                        </button>
                    </div>
                </div>

                <!-- Verse Selection -->
                <div class="section-title">üìñ Verse Selection</div>

                <div class="form-group">
                    <label for="chapter">Chapter (Surah)</label>
                    <select id="chapter">
                        <!-- Will be populated by JS -->
                    </select>
                    <div class="chapter-info" id="chapter-info"></div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="from-verse">From Verse</label>
                        <input type="number" id="from-verse" min="1" value="1">
                    </div>
                    <div class="form-group">
                        <label for="to-verse">To Verse</label>
                        <input type="number" id="to-verse" min="1" value="7">
                    </div>
                </div>

                <!-- Translations -->
                <div class="section-title">üåç Translations</div>

                <div class="form-group">
                    <label>Select Translations (max 3 recommended)</label>
                    <div class="translations-list" id="translations-list">
                        <!-- Will be populated by JS -->
                    </div>
                </div>

                <!-- Appearance -->
                <div class="section-title">üé® Appearance</div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="theme">Theme</label>
                        <select id="theme">
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                            <option value="auto">Auto (System)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="text-align">Text Alignment</label>
                        <select id="text-align">
                            <option value="start">Start</option>
                            <option value="center">Center</option>
                            <option value="end">End</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="border-radius">Border Radius (px)</label>
                        <input type="number" id="border-radius" min="0" max="50" value="8">
                    </div>
                    <div class="form-group">
                        <label for="locale">Locale</label>
                        <select id="locale">
                            <option value="en">English</option>
                            <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                            <option value="ur">ÿßÿ±ÿØŸà</option>
                            <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
                            <option value="tr">T√ºrk√ße</option>
                            <option value="fr">Fran√ßais</option>
                            <option value="id">Bahasa Indonesia</option>
                            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                            <option value="zh">‰∏≠Êñá</option>
                            <option value="fa">ŸÅÿßÿ±ÿ≥€å</option>
                        </select>
                    </div>
                </div>

                <!-- Typography -->
                <div class="section-title">‚úçÔ∏è Typography</div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="quran-font">Quran Font</label>
                        <select id="quran-font">
                            <option value="v2">Madani V2 (Default)</option>
                            <option value="v1">Madani V1</option>
                            <option value="uthmani">Uthmani</option>
                            <option value="indopak">IndoPak</option>
                        </select>
                        <div class="font-preview" id="font-preview">
                            <span class="font-sample">ÿ®Ÿêÿ≥ŸíŸÖŸê Ÿ±ŸÑŸÑŸéŸëŸáŸê Ÿ±ŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸÄŸ∞ŸÜŸê Ÿ±ŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸê</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="font-size">Font Scale</label>
                        <select id="font-size">
                            <option value="small">Small</option>
                            <option value="normal" selected>Normal</option>
                            <option value="large">Large</option>
                            <option value="xlarge">Extra Large</option>
                        </select>
                    </div>
                </div>

                <!-- Audio Options -->
                <div class="section-title">üîä Audio Options</div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="show-audio-player">
                        <label for="show-audio-player">Enable audio playback</label>
                    </div>
                </div>

                <div id="audio-options" class="audio-options-panel" style="display: none;">
                    <div class="form-group">
                        <label for="reciter">Reciter</label>
                        <select id="reciter">
                            <option value="7">Mishary Rashid Alafasy</option>
                            <option value="2">Abdul Basit (Murattal)</option>
                            <option value="1">Abdul Basit (Mujawwad)</option>
                            <option value="5">Shaykh Abu Bakr al-Shatri</option>
                            <option value="6">Mahmoud Khalil Al-Hussary</option>
                            <option value="4">Maher Al-Muaiqly</option>
                            <option value="3">Saud Al-Shuraim</option>
                            <option value="9">Muhammad Ayyub</option>
                            <option value="10">Yasser Ad-Dussary</option>
                            <option value="12">Nasser Al Qatami</option>
                            <option value="8">Hani Ar-Rifai</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="auto-play">
                            <label for="auto-play">Auto-play audio on load</label>
                        </div>
                    </div>
                </div>

                <!-- Display Options -->
                <div class="section-title">üëÅÔ∏è Display Options</div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="show-reference" checked>
                        <label for="show-reference">Show verse reference</label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="show-translation-name" checked>
                        <label for="show-translation-name">Show translation name</label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="show-word-by-word">
                        <label for="show-word-by-word">Word-by-word translation <span
                                class="feature-badge new">New</span></label>
                    </div>
                </div>

                <div id="wbw-options" class="wbw-options" style="display: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="wbw-locale">WBW Language</label>
                            <select id="wbw-locale">
                                <option value="en">English</option>
                                <option value="ur">Urdu</option>
                                <option value="bn">Bengali</option>
                                <option value="tr">Turkish</option>
                                <option value="id">Indonesian</option>
                                <option value="ru">Russian</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <div class="checkbox-group">
                                <input type="checkbox" id="show-wbw-transliteration" checked>
                                <label for="show-wbw-transliteration">Transliteration</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="show-tafsir">
                        <label for="show-tafsir">Include tafsir button <span class="feature-badge">Beta</span></label>
                    </div>
                </div>

                <!-- Analytics -->
                <div class="section-title">üìä Analytics (Optional)</div>

                <div class="form-group">
                    <label for="analytics-id">Analytics/Affiliate ID</label>
                    <input type="text" id="analytics-id" placeholder="your-site-id">
                </div>

                <button class="btn-refresh" onclick="updatePreview()">
                    üîÑ Refresh Preview
                </button>
            </div>

            <!-- Preview Panel -->
            <div class="panel preview-container">
                <h3 class="panel-title">üëÄ Live Preview</h3>

                <div class="preview-frame-wrapper" id="preview-wrapper">
                    <iframe id="preview-iframe" title="Embed Preview"></iframe>
                </div>

                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('iframe')">Iframe Code</button>
                    <button class="tab-btn" onclick="switchTab('url')">Direct URL</button>
                    <button class="tab-btn" onclick="switchTab('js')">JavaScript</button>
                </div>

                <div id="tab-iframe" class="tab-content active">
                    <div class="code-section">
                        <div class="code-header">
                            <h4>Embed Code (Copy & Paste)</h4>
                            <button class="copy-btn" onclick="copyCode('iframe')">
                                üìã Copy Code
                            </button>
                        </div>
                        <div class="code-block" id="embed-code"></div>
                    </div>
                </div>

                <div id="tab-url" class="tab-content">
                    <div class="code-section">
                        <div class="code-header">
                            <h4>Direct Embed URL</h4>
                            <button class="copy-btn" onclick="copyCode('url')">
                                üìã Copy URL
                            </button>
                        </div>
                        <div class="url-display" id="embed-url"></div>
                    </div>
                </div>

                <div id="tab-js" class="tab-content">
                    <div class="code-section">
                        <div class="code-header">
                            <h4>JavaScript (Dynamic Height)</h4>
                            <button class="copy-btn" onclick="copyCode('js')">
                                üìã Copy Code
                            </button>
                        </div>
                        <div class="code-block" id="js-code"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Chapter data with verse counts
        const chapters = [
            { id: 1, name: "Al-Fatihah", arabicName: "ÿßŸÑŸÅÿßÿ™ÿ≠ÿ©", versesCount: 7 },
            { id: 2, name: "Al-Baqarah", arabicName: "ÿßŸÑÿ®ŸÇÿ±ÿ©", versesCount: 286 },
            { id: 3, name: "Ali 'Imran", arabicName: "ÿ¢ŸÑ ÿπŸÖÿ±ÿßŸÜ", versesCount: 200 },
            { id: 4, name: "An-Nisa", arabicName: "ÿßŸÑŸÜÿ≥ÿßÿ°", versesCount: 176 },
            { id: 5, name: "Al-Ma'idah", arabicName: "ÿßŸÑŸÖÿßÿ¶ÿØÿ©", versesCount: 120 },
            { id: 6, name: "Al-An'am", arabicName: "ÿßŸÑÿ£ŸÜÿπÿßŸÖ", versesCount: 165 },
            { id: 7, name: "Al-A'raf", arabicName: "ÿßŸÑÿ£ÿπÿ±ÿßŸÅ", versesCount: 206 },
            { id: 8, name: "Al-Anfal", arabicName: "ÿßŸÑÿ£ŸÜŸÅÿßŸÑ", versesCount: 75 },
            { id: 9, name: "At-Tawbah", arabicName: "ÿßŸÑÿ™Ÿàÿ®ÿ©", versesCount: 129 },
            { id: 10, name: "Yunus", arabicName: "ŸäŸàŸÜÿ≥", versesCount: 109 },
            { id: 11, name: "Hud", arabicName: "ŸáŸàÿØ", versesCount: 123 },
            { id: 12, name: "Yusuf", arabicName: "ŸäŸàÿ≥ŸÅ", versesCount: 111 },
            { id: 13, name: "Ar-Ra'd", arabicName: "ÿßŸÑÿ±ÿπÿØ", versesCount: 43 },
            { id: 14, name: "Ibrahim", arabicName: "ÿ•ÿ®ÿ±ÿßŸáŸäŸÖ", versesCount: 52 },
            { id: 15, name: "Al-Hijr", arabicName: "ÿßŸÑÿ≠ÿ¨ÿ±", versesCount: 99 },
            { id: 16, name: "An-Nahl", arabicName: "ÿßŸÑŸÜÿ≠ŸÑ", versesCount: 128 },
            { id: 17, name: "Al-Isra", arabicName: "ÿßŸÑÿ•ÿ≥ÿ±ÿßÿ°", versesCount: 111 },
            { id: 18, name: "Al-Kahf", arabicName: "ÿßŸÑŸÉŸáŸÅ", versesCount: 110 },
            { id: 19, name: "Maryam", arabicName: "ŸÖÿ±ŸäŸÖ", versesCount: 98 },
            { id: 20, name: "Taha", arabicName: "ÿ∑Ÿá", versesCount: 135 },
            { id: 21, name: "Al-Anbya", arabicName: "ÿßŸÑÿ£ŸÜÿ®Ÿäÿßÿ°", versesCount: 112 },
            { id: 22, name: "Al-Hajj", arabicName: "ÿßŸÑÿ≠ÿ¨", versesCount: 78 },
            { id: 23, name: "Al-Mu'minun", arabicName: "ÿßŸÑŸÖÿ§ŸÖŸÜŸàŸÜ", versesCount: 118 },
            { id: 24, name: "An-Nur", arabicName: "ÿßŸÑŸÜŸàÿ±", versesCount: 64 },
            { id: 25, name: "Al-Furqan", arabicName: "ÿßŸÑŸÅÿ±ŸÇÿßŸÜ", versesCount: 77 },
            { id: 26, name: "Ash-Shu'ara", arabicName: "ÿßŸÑÿ¥ÿπÿ±ÿßÿ°", versesCount: 227 },
            { id: 27, name: "An-Naml", arabicName: "ÿßŸÑŸÜŸÖŸÑ", versesCount: 93 },
            { id: 28, name: "Al-Qasas", arabicName: "ÿßŸÑŸÇÿµÿµ", versesCount: 88 },
            { id: 29, name: "Al-'Ankabut", arabicName: "ÿßŸÑÿπŸÜŸÉÿ®Ÿàÿ™", versesCount: 69 },
            { id: 30, name: "Ar-Rum", arabicName: "ÿßŸÑÿ±ŸàŸÖ", versesCount: 60 },
            { id: 31, name: "Luqman", arabicName: "ŸÑŸÇŸÖÿßŸÜ", versesCount: 34 },
            { id: 32, name: "As-Sajdah", arabicName: "ÿßŸÑÿ≥ÿ¨ÿØÿ©", versesCount: 30 },
            { id: 33, name: "Al-Ahzab", arabicName: "ÿßŸÑÿ£ÿ≠ÿ≤ÿßÿ®", versesCount: 73 },
            { id: 34, name: "Saba", arabicName: "ÿ≥ÿ®ÿ£", versesCount: 54 },
            { id: 35, name: "Fatir", arabicName: "ŸÅÿßÿ∑ÿ±", versesCount: 45 },
            { id: 36, name: "Ya-Sin", arabicName: "Ÿäÿ≥", versesCount: 83 },
            { id: 37, name: "As-Saffat", arabicName: "ÿßŸÑÿµÿßŸÅÿßÿ™", versesCount: 182 },
            { id: 38, name: "Sad", arabicName: "ÿµ", versesCount: 88 },
            { id: 39, name: "Az-Zumar", arabicName: "ÿßŸÑÿ≤ŸÖÿ±", versesCount: 75 },
            { id: 40, name: "Ghafir", arabicName: "ÿ∫ÿßŸÅÿ±", versesCount: 85 },
            { id: 41, name: "Fussilat", arabicName: "ŸÅÿµŸÑÿ™", versesCount: 54 },
            { id: 42, name: "Ash-Shuraa", arabicName: "ÿßŸÑÿ¥Ÿàÿ±Ÿâ", versesCount: 53 },
            { id: 43, name: "Az-Zukhruf", arabicName: "ÿßŸÑÿ≤ÿÆÿ±ŸÅ", versesCount: 89 },
            { id: 44, name: "Ad-Dukhan", arabicName: "ÿßŸÑÿØÿÆÿßŸÜ", versesCount: 59 },
            { id: 45, name: "Al-Jathiyah", arabicName: "ÿßŸÑÿ¨ÿßÿ´Ÿäÿ©", versesCount: 37 },
            { id: 46, name: "Al-Ahqaf", arabicName: "ÿßŸÑÿ£ÿ≠ŸÇÿßŸÅ", versesCount: 35 },
            { id: 47, name: "Muhammad", arabicName: "ŸÖÿ≠ŸÖÿØ", versesCount: 38 },
            { id: 48, name: "Al-Fath", arabicName: "ÿßŸÑŸÅÿ™ÿ≠", versesCount: 29 },
            { id: 49, name: "Al-Hujurat", arabicName: "ÿßŸÑÿ≠ÿ¨ÿ±ÿßÿ™", versesCount: 18 },
            { id: 50, name: "Qaf", arabicName: "ŸÇ", versesCount: 45 },
            { id: 51, name: "Adh-Dhariyat", arabicName: "ÿßŸÑÿ∞ÿßÿ±Ÿäÿßÿ™", versesCount: 60 },
            { id: 52, name: "At-Tur", arabicName: "ÿßŸÑÿ∑Ÿàÿ±", versesCount: 49 },
            { id: 53, name: "An-Najm", arabicName: "ÿßŸÑŸÜÿ¨ŸÖ", versesCount: 62 },
            { id: 54, name: "Al-Qamar", arabicName: "ÿßŸÑŸÇŸÖÿ±", versesCount: 55 },
            { id: 55, name: "Ar-Rahman", arabicName: "ÿßŸÑÿ±ÿ≠ŸÖŸÜ", versesCount: 78 },
            { id: 56, name: "Al-Waqi'ah", arabicName: "ÿßŸÑŸàÿßŸÇÿπÿ©", versesCount: 96 },
            { id: 57, name: "Al-Hadid", arabicName: "ÿßŸÑÿ≠ÿØŸäÿØ", versesCount: 29 },
            { id: 58, name: "Al-Mujadila", arabicName: "ÿßŸÑŸÖÿ¨ÿßÿØŸÑÿ©", versesCount: 22 },
            { id: 59, name: "Al-Hashr", arabicName: "ÿßŸÑÿ≠ÿ¥ÿ±", versesCount: 24 },
            { id: 60, name: "Al-Mumtahanah", arabicName: "ÿßŸÑŸÖŸÖÿ™ÿ≠ŸÜÿ©", versesCount: 13 },
            { id: 61, name: "As-Saf", arabicName: "ÿßŸÑÿµŸÅ", versesCount: 14 },
            { id: 62, name: "Al-Jumu'ah", arabicName: "ÿßŸÑÿ¨ŸÖÿπÿ©", versesCount: 11 },
            { id: 63, name: "Al-Munafiqun", arabicName: "ÿßŸÑŸÖŸÜÿßŸÅŸÇŸàŸÜ", versesCount: 11 },
            { id: 64, name: "At-Taghabun", arabicName: "ÿßŸÑÿ™ÿ∫ÿßÿ®ŸÜ", versesCount: 18 },
            { id: 65, name: "At-Talaq", arabicName: "ÿßŸÑÿ∑ŸÑÿßŸÇ", versesCount: 12 },
            { id: 66, name: "At-Tahrim", arabicName: "ÿßŸÑÿ™ÿ≠ÿ±ŸäŸÖ", versesCount: 12 },
            { id: 67, name: "Al-Mulk", arabicName: "ÿßŸÑŸÖŸÑŸÉ", versesCount: 30 },
            { id: 68, name: "Al-Qalam", arabicName: "ÿßŸÑŸÇŸÑŸÖ", versesCount: 52 },
            { id: 69, name: "Al-Haqqah", arabicName: "ÿßŸÑÿ≠ÿßŸÇÿ©", versesCount: 52 },
            { id: 70, name: "Al-Ma'arij", arabicName: "ÿßŸÑŸÖÿπÿßÿ±ÿ¨", versesCount: 44 },
            { id: 71, name: "Nuh", arabicName: "ŸÜŸàÿ≠", versesCount: 28 },
            { id: 72, name: "Al-Jinn", arabicName: "ÿßŸÑÿ¨ŸÜ", versesCount: 28 },
            { id: 73, name: "Al-Muzzammil", arabicName: "ÿßŸÑŸÖÿ≤ŸÖŸÑ", versesCount: 20 },
            { id: 74, name: "Al-Muddaththir", arabicName: "ÿßŸÑŸÖÿØÿ´ÿ±", versesCount: 56 },
            { id: 75, name: "Al-Qiyamah", arabicName: "ÿßŸÑŸÇŸäÿßŸÖÿ©", versesCount: 40 },
            { id: 76, name: "Al-Insan", arabicName: "ÿßŸÑÿ•ŸÜÿ≥ÿßŸÜ", versesCount: 31 },
            { id: 77, name: "Al-Mursalat", arabicName: "ÿßŸÑŸÖÿ±ÿ≥ŸÑÿßÿ™", versesCount: 50 },
            { id: 78, name: "An-Naba", arabicName: "ÿßŸÑŸÜÿ®ÿ£", versesCount: 40 },
            { id: 79, name: "An-Nazi'at", arabicName: "ÿßŸÑŸÜÿßÿ≤ÿπÿßÿ™", versesCount: 46 },
            { id: 80, name: "'Abasa", arabicName: "ÿπÿ®ÿ≥", versesCount: 42 },
            { id: 81, name: "At-Takwir", arabicName: "ÿßŸÑÿ™ŸÉŸàŸäÿ±", versesCount: 29 },
            { id: 82, name: "Al-Infitar", arabicName: "ÿßŸÑÿßŸÜŸÅÿ∑ÿßÿ±", versesCount: 19 },
            { id: 83, name: "Al-Mutaffifin", arabicName: "ÿßŸÑŸÖÿ∑ŸÅŸÅŸäŸÜ", versesCount: 36 },
            { id: 84, name: "Al-Inshiqaq", arabicName: "ÿßŸÑÿßŸÜÿ¥ŸÇÿßŸÇ", versesCount: 25 },
            { id: 85, name: "Al-Buruj", arabicName: "ÿßŸÑÿ®ÿ±Ÿàÿ¨", versesCount: 22 },
            { id: 86, name: "At-Tariq", arabicName: "ÿßŸÑÿ∑ÿßÿ±ŸÇ", versesCount: 17 },
            { id: 87, name: "Al-A'la", arabicName: "ÿßŸÑÿ£ÿπŸÑŸâ", versesCount: 19 },
            { id: 88, name: "Al-Ghashiyah", arabicName: "ÿßŸÑÿ∫ÿßÿ¥Ÿäÿ©", versesCount: 26 },
            { id: 89, name: "Al-Fajr", arabicName: "ÿßŸÑŸÅÿ¨ÿ±", versesCount: 30 },
            { id: 90, name: "Al-Balad", arabicName: "ÿßŸÑÿ®ŸÑÿØ", versesCount: 20 },
            { id: 91, name: "Ash-Shams", arabicName: "ÿßŸÑÿ¥ŸÖÿ≥", versesCount: 15 },
            { id: 92, name: "Al-Layl", arabicName: "ÿßŸÑŸÑŸäŸÑ", versesCount: 21 },
            { id: 93, name: "Ad-Duhaa", arabicName: "ÿßŸÑÿ∂ÿ≠Ÿâ", versesCount: 11 },
            { id: 94, name: "Ash-Sharh", arabicName: "ÿßŸÑÿ¥ÿ±ÿ≠", versesCount: 8 },
            { id: 95, name: "At-Tin", arabicName: "ÿßŸÑÿ™ŸäŸÜ", versesCount: 8 },
            { id: 96, name: "Al-'Alaq", arabicName: "ÿßŸÑÿπŸÑŸÇ", versesCount: 19 },
            { id: 97, name: "Al-Qadr", arabicName: "ÿßŸÑŸÇÿØÿ±", versesCount: 5 },
            { id: 98, name: "Al-Bayyinah", arabicName: "ÿßŸÑÿ®ŸäŸÜÿ©", versesCount: 8 },
            { id: 99, name: "Az-Zalzalah", arabicName: "ÿßŸÑÿ≤ŸÑÿ≤ŸÑÿ©", versesCount: 8 },
            { id: 100, name: "Al-'Adiyat", arabicName: "ÿßŸÑÿπÿßÿØŸäÿßÿ™", versesCount: 11 },
            { id: 101, name: "Al-Qari'ah", arabicName: "ÿßŸÑŸÇÿßÿ±ÿπÿ©", versesCount: 11 },
            { id: 102, name: "At-Takathur", arabicName: "ÿßŸÑÿ™ŸÉÿßÿ´ÿ±", versesCount: 8 },
            { id: 103, name: "Al-'Asr", arabicName: "ÿßŸÑÿπÿµÿ±", versesCount: 3 },
            { id: 104, name: "Al-Humazah", arabicName: "ÿßŸÑŸáŸÖÿ≤ÿ©", versesCount: 9 },
            { id: 105, name: "Al-Fil", arabicName: "ÿßŸÑŸÅŸäŸÑ", versesCount: 5 },
            { id: 106, name: "Quraysh", arabicName: "ŸÇÿ±Ÿäÿ¥", versesCount: 4 },
            { id: 107, name: "Al-Ma'un", arabicName: "ÿßŸÑŸÖÿßÿπŸàŸÜ", versesCount: 7 },
            { id: 108, name: "Al-Kawthar", arabicName: "ÿßŸÑŸÉŸàÿ´ÿ±", versesCount: 3 },
            { id: 109, name: "Al-Kafirun", arabicName: "ÿßŸÑŸÉÿßŸÅÿ±ŸàŸÜ", versesCount: 6 },
            { id: 110, name: "An-Nasr", arabicName: "ÿßŸÑŸÜÿµÿ±", versesCount: 3 },
            { id: 111, name: "Al-Masad", arabicName: "ÿßŸÑŸÖÿ≥ÿØ", versesCount: 5 },
            { id: 112, name: "Al-Ikhlas", arabicName: "ÿßŸÑÿ•ÿÆŸÑÿßÿµ", versesCount: 4 },
            { id: 113, name: "Al-Falaq", arabicName: "ÿßŸÑŸÅŸÑŸÇ", versesCount: 5 },
            { id: 114, name: "An-Nas", arabicName: "ÿßŸÑŸÜÿßÿ≥", versesCount: 6 }
        ];

        // Popular translations
        const translations = [
            { id: 131, name: "Dr. Mustafa Khattab, The Clear Quran", lang: "en" },
            { id: 20, name: "Saheeh International", lang: "en" },
            { id: 85, name: "Muhammad Taqi-ud-Din al-Hilali & Muhammad Muhsin Khan", lang: "en" },
            { id: 84, name: "Mufti Taqi Usmani", lang: "en" },
            { id: 203, name: "Transliteration", lang: "en" },
            { id: 19, name: "Pickthall", lang: "en" },
            { id: 22, name: "Yusuf Ali", lang: "en" },
            { id: 17, name: "Shakir", lang: "en" },
            { id: 95, name: "Sahih International (Indonesian)", lang: "id" },
            { id: 33, name: "King Fahad Quran Complex", lang: "id" },
            { id: 77, name: "Muhammad Hamidullah", lang: "fr" },
            { id: 79, name: "Rashid Maash", lang: "fr" },
            { id: 87, name: "Maulana Fateh Muhammad Jalandhari", lang: "ur" },
            { id: 54, name: "Abu Adel", lang: "ru" },
            { id: 78, name: "Elmir Kuliev", lang: "ru" },
            { id: 76, name: "Diyanet ƒ∞≈üleri", lang: "tr" },
            { id: 52, name: "S√ºleyman Ate≈ü", lang: "tr" },
            { id: 163, name: "Bengali (‡¶Æ‡ßÅ‡¶π‡¶ø‡¶â‡¶¶‡ßç‡¶¶‡ßÄ‡¶® ‡¶ñ‡¶æ‡¶®)", lang: "bn" },
            { id: 161, name: "Bengali (‡¶§‡¶æ‡¶á‡¶∏‡ßÄ‡¶∞‡ßÅ‡¶≤ ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®)", lang: "bn" },
            { id: 29, name: "ÿßŸÜÿµÿßÿ±Ÿâ ÿßŸÑŸÑŸá", lang: "fa" },
            { id: 135, name: "Chinese (Ma Jian)", lang: "zh" }
        ];

        // Popular reciters
        const reciters = [
            { id: 7, name: "Mishary Rashid Alafasy", style: "Murattal" },
            { id: 2, name: "Abdul Basit", style: "Murattal" },
            { id: 1, name: "Abdul Basit", style: "Mujawwad" },
            { id: 5, name: "Abu Bakr al-Shatri", style: "Murattal" },
            { id: 6, name: "Mahmoud Khalil Al-Hussary", style: "Murattal" },
            { id: 4, name: "Maher Al-Muaiqly", style: "Murattal" },
            { id: 3, name: "Saud Al-Shuraim", style: "Murattal" },
            { id: 9, name: "Muhammad Ayyub", style: "Murattal" },
            { id: 10, name: "Yasser Ad-Dussary", style: "Murattal" },
            { id: 12, name: "Nasser Al Qatami", style: "Murattal" },
            { id: 8, name: "Hani Ar-Rifai", style: "Murattal" }
        ];

        // Get base URL - uses current origin (works on any port)
        const getBaseUrl = () => {
            return window.location.origin;
        };

        // Apply preset configurations
        const applyPreset = (presetName) => {
            switch (presetName) {
                case 'ayahOfDay':
                    // Random verse for demo, in production would fetch from API
                    document.getElementById('chapter').value = 55;
                    document.getElementById('from-verse').value = 13;
                    document.getElementById('to-verse').value = 13;
                    break;
                case 'alFatiha':
                    document.getElementById('chapter').value = 1;
                    document.getElementById('from-verse').value = 1;
                    document.getElementById('to-verse').value = 7;
                    break;
                case 'ayatulKursi':
                    document.getElementById('chapter').value = 2;
                    document.getElementById('from-verse').value = 255;
                    document.getElementById('to-verse').value = 255;
                    break;
                case 'lastTenSurahs':
                    // Show Al-Ikhlas as example
                    document.getElementById('chapter').value = 112;
                    document.getElementById('from-verse').value = 1;
                    document.getElementById('to-verse').value = 4;
                    break;
            }
            updateChapterInfo();
            updatePreview();
        };

        // Toggle audio options visibility
        const toggleAudioOptions = () => {
            const showAudio = document.getElementById('show-audio-player').checked;
            document.getElementById('audio-options').style.display = showAudio ? 'block' : 'none';
        };

        // Toggle word-by-word options visibility
        const toggleWbwOptions = () => {
            const showWbw = document.getElementById('show-word-by-word').checked;
            document.getElementById('wbw-options').style.display = showWbw ? 'block' : 'none';
        };

        // Initialize chapter select
        const initChapterSelect = () => {
            const select = document.getElementById('chapter');
            chapters.forEach(ch => {
                const option = document.createElement('option');
                option.value = ch.id;
                option.textContent = `${ch.id}. ${ch.name} (${ch.arabicName})`;
                select.appendChild(option);
            });
            updateChapterInfo();
        };

        // Initialize translations list
        const initTranslationsList = () => {
            const list = document.getElementById('translations-list');
            translations.forEach(tr => {
                const item = document.createElement('div');
                item.className = 'translation-item';
                item.innerHTML = `
          <input type="checkbox" id="tr-${tr.id}" value="${tr.id}" ${tr.id === 131 ? 'checked' : ''}>
          <label for="tr-${tr.id}">${tr.name}</label>
          <span class="lang-badge">${tr.lang}</span>
        `;
                list.appendChild(item);
            });
        };

        // Update chapter info
        const updateChapterInfo = () => {
            const chapterId = parseInt(document.getElementById('chapter').value);
            const chapter = chapters.find(c => c.id === chapterId);
            if (chapter) {
                document.getElementById('chapter-info').textContent =
                    `${chapter.versesCount} verses ‚Ä¢ ${chapter.arabicName}`;
                document.getElementById('to-verse').max = chapter.versesCount;
                document.getElementById('from-verse').max = chapter.versesCount;

                // Adjust verse values if needed
                const fromVerse = parseInt(document.getElementById('from-verse').value);
                const toVerse = parseInt(document.getElementById('to-verse').value);

                if (toVerse > chapter.versesCount) {
                    document.getElementById('to-verse').value = Math.min(chapter.versesCount, fromVerse + 6);
                }
                if (fromVerse > chapter.versesCount) {
                    document.getElementById('from-verse').value = 1;
                }
            }
        };

        // Get selected translations
        const getSelectedTranslations = () => {
            const checkboxes = document.querySelectorAll('#translations-list input:checked');
            return Array.from(checkboxes).map(cb => cb.value);
        };

        // Build embed URL
        const buildEmbedUrl = () => {
            const chapterId = document.getElementById('chapter').value;
            const fromVerse = document.getElementById('from-verse').value;
            const toVerse = document.getElementById('to-verse').value;
            const theme = document.getElementById('theme').value;
            const textAlign = document.getElementById('text-align').value;
            const borderRadius = document.getElementById('border-radius').value;
            const locale = document.getElementById('locale').value;
            const showReference = document.getElementById('show-reference').checked;
            const showTranslationName = document.getElementById('show-translation-name').checked;
            const analyticsId = document.getElementById('analytics-id').value;
            const translations = getSelectedTranslations();

            // New options
            const quranFont = document.getElementById('quran-font').value;
            const fontSize = document.getElementById('font-size').value;
            const showAudioPlayer = document.getElementById('show-audio-player').checked;
            const reciter = document.getElementById('reciter').value;
            const autoPlay = document.getElementById('auto-play').checked;
            const showWordByWord = document.getElementById('show-word-by-word').checked;
            const wbwLocale = document.getElementById('wbw-locale').value;
            const showWbwTransliteration = document.getElementById('show-wbw-transliteration').checked;
            const showTafsir = document.getElementById('show-tafsir').checked;

            const params = new URLSearchParams();

            // Verse range
            const verses = fromVerse === toVerse
                ? `${chapterId}:${fromVerse}`
                : `${chapterId}:${fromVerse}-${toVerse}`;
            params.set('verses', verses);

            // Translations
            if (translations.length > 0) {
                params.set('translations', translations.join(','));
            }

            // Optional params (only include if not default)
            if (theme !== 'light') params.set('theme', theme);
            if (textAlign !== 'start') params.set('textAlign', textAlign);
            if (borderRadius !== '8') params.set('borderRadius', borderRadius);
            if (locale !== 'en') params.set('locale', locale);
            if (!showReference) params.set('showReference', 'false');
            if (!showTranslationName) params.set('showTranslationName', 'false');
            if (analyticsId) params.set('aid', analyticsId);

            // New params
            if (quranFont !== 'v2') params.set('font', quranFont);
            if (fontSize !== 'normal') params.set('fontSize', fontSize);

            // Audio options
            if (showAudioPlayer) {
                params.set('audio', 'true');
                if (reciter !== '7') params.set('reciter', reciter);
                if (autoPlay) params.set('autoPlay', 'true');
            }

            // Word-by-word options
            if (showWordByWord) {
                params.set('wbw', 'true');
                if (wbwLocale !== 'en') params.set('wbwLocale', wbwLocale);
                if (!showWbwTransliteration) params.set('wbwTransliteration', 'false');
            }

            // Tafsir option
            if (showTafsir) params.set('tafsir', 'true');

            return `${getBaseUrl()}/embed/v1?${params.toString()}`;
        };

        // Update preview
        const updatePreview = () => {
            const errorBox = document.getElementById('error-box');
            const fromVerse = parseInt(document.getElementById('from-verse').value);
            const toVerse = parseInt(document.getElementById('to-verse').value);
            const chapterId = parseInt(document.getElementById('chapter').value);
            const chapter = chapters.find(c => c.id === chapterId);

            // Validation
            if (fromVerse > toVerse) {
                errorBox.textContent = '‚ùå "From Verse" cannot be greater than "To Verse"';
                errorBox.style.display = 'block';
                return;
            }

            if (toVerse - fromVerse + 1 > 10) {
                errorBox.textContent = '‚ö†Ô∏è Maximum 10 verses allowed. Range will be limited.';
                errorBox.style.display = 'block';
            } else {
                errorBox.style.display = 'none';
            }

            if (chapter && toVerse > chapter.versesCount) {
                errorBox.textContent = `‚ùå Verse ${toVerse} exceeds chapter limit (${chapter.versesCount} verses)`;
                errorBox.style.display = 'block';
                return;
            }

            const embedUrl = buildEmbedUrl();
            const theme = document.getElementById('theme').value;

            // Update preview wrapper background based on theme
            const previewWrapper = document.getElementById('preview-wrapper');
            previewWrapper.className = 'preview-frame-wrapper' + (theme === 'dark' ? ' dark-preview' : '');

            // Update iframe
            document.getElementById('preview-iframe').src = embedUrl;

            // Update URL display
            document.getElementById('embed-url').textContent = embedUrl;

            // Update embed code
            const iframeCode = `<iframe
  src="${embedUrl}"
  width="100%"
  height="400"
  style="border: none; border-radius: 8px;"
  title="Quran Verse Embed"
  loading="lazy"
></iframe>`;
            document.getElementById('embed-code').textContent = iframeCode;

            // Update JS code
            const jsCode = `<!-- Quran.com Embed Widget -->
<div id="quran-embed-container"></div>
<script>
(function() {
  const iframe = document.createElement('iframe');
  iframe.src = "${embedUrl}";
  iframe.style.cssText = "width:100%;border:none;border-radius:8px;";
  iframe.title = "Quran Verse Embed";
  iframe.loading = "lazy";

  // Handle dynamic height
  window.addEventListener('message', function(e) {
    if (e.data && e.data.type === 'quran-embed-resize') {
      iframe.style.height = e.data.height + 'px';
    }
  });

  document.getElementById('quran-embed-container').appendChild(iframe);
})();
<\/script>`;
            document.getElementById('js-code').textContent = jsCode;
        };

        // Copy code to clipboard
        const copyCode = (type) => {
            let text = '';
            if (type === 'iframe') {
                text = document.getElementById('embed-code').textContent;
            } else if (type === 'url') {
                text = document.getElementById('embed-url').textContent;
            } else if (type === 'js') {
                text = document.getElementById('js-code').textContent;
            }

            navigator.clipboard.writeText(text).then(() => {
                const btns = document.querySelectorAll('.copy-btn');
                btns.forEach(btn => {
                    if (btn.onclick.toString().includes(type)) {
                        btn.classList.add('copied');
                        btn.innerHTML = '‚úì Copied!';
                        setTimeout(() => {
                            btn.classList.remove('copied');
                            btn.innerHTML = 'üìã Copy ' + (type === 'url' ? 'URL' : 'Code');
                        }, 2000);
                    }
                });
            });
        };

        // Switch tabs
        const switchTab = (tabId) => {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

            document.querySelector(`[onclick="switchTab('${tabId}')"]`).classList.add('active');
            document.getElementById(`tab-${tabId}`).classList.add('active');
        };

        // Listen for iframe resize messages
        window.addEventListener('message', function (e) {
            if (e.data && e.data.type === 'quran-embed-resize') {
                document.getElementById('preview-iframe').style.height = e.data.height + 'px';
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initChapterSelect();
            initTranslationsList();

            // Add event listeners for auto-update
            const inputs = ['chapter', 'from-verse', 'to-verse', 'theme', 'text-align',
                'border-radius', 'locale', 'show-reference', 'show-translation-name', 'analytics-id',
                'quran-font', 'font-size', 'reciter', 'auto-play', 'wbw-locale',
                'show-wbw-transliteration', 'show-tafsir'];

            inputs.forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('change', updatePreview);
                    if (el.type === 'text' || el.type === 'number') {
                        el.addEventListener('input', updatePreview);
                    }
                }
            });

            document.getElementById('chapter').addEventListener('change', updateChapterInfo);

            // Listen for translation checkbox changes
            document.getElementById('translations-list').addEventListener('change', updatePreview);

            // Toggle audio options visibility
            document.getElementById('show-audio-player').addEventListener('change', () => {
                toggleAudioOptions();
                updatePreview();
            });

            // Toggle word-by-word options visibility
            document.getElementById('show-word-by-word').addEventListener('change', () => {
                toggleWbwOptions();
                updatePreview();
            });

            // Initial preview
            updatePreview();
        });
    </script>
</body>

</html>
