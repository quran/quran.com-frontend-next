@use "src/styles/constants";
@use "src/styles/breakpoints";
@use "sass:map";

@mixin center-horizontally {
  display: inline-block;
  margin-block-start: auto;
  margin-inline-end: auto;
  margin-block-end: auto;
  margin-inline-start: auto;
}

@mixin center-vertically {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

@mixin lighten-background-color {
  background-image: linear-gradient(
    to right,
    var(--color-background-lighten),
    var(--color-background-lighten)
  );
}

// IMPORTANT NOTE: IF WE CHANGE ANY VALUE HERE, WE SHOULD ALSO ADAPT THE NEW VALUE TO THE FALLBACK TEXT INSIDE GLYPHWORD.MODULE.SCSS

$scales-map: (
  default: (
    desktop: (
      1: 1.5vw,
      2: 2vw,
      3: 2.25vw,
      4: 2.5vw,
      5: 3vw,
    ),
    tablet: (
      1: 4vw,
      2: 5vw,
      3: 6.3vw,
      4: 6.7vw,
      5: 6.85vw,
    ),
    mobile: (
      1: 4vw,
      2: 5vw,
      3: 6.3vw,
      4: 10vw,
      5: 12vw,
    ),
  ),
  qpc_uthmani_hafs: (
    desktop: (
      1: 1.5vw,
      2: 2vw,
      3: 2.25vw,
      4: 2.5vw,
      5: 3vw,
    ),
    tablet: (
      1: 4vw,
      2: 5vw,
      3: 6.3vw,
      4: 6.7vw,
      5: 6.85vw,
    ),
    mobile: (
      1: 4vw,
      2: 5vw,
      3: 6.3vw,
      4: 10vw,
      5: 12vw,
    ),
  ),
  text_indopak: (
    desktop: (
      1: 1.5vw,
      2: 2vw,
      3: 2.25vw,
      4: 2.5vw,
      5: 3vw,
    ),
    tablet: (
      1: 4vw,
      2: 5vw,
      3: 6.3vw,
      4: 6.7vw,
      5: 6.85vw,
    ),
    mobile: (
      1: 4vw,
      2: 5vw,
      3: 6.3vw,
      4: 10vw,
      5: 12vw,
    ),
  ),
  code_v2: (
    desktop: (
      1: 1.5vw,
      2: 2vw,
      3: 2.25vw,
      4: 2.5vw,
      5: 3vw,
    ),
    tablet: (
      1: 4vw,
      2: 5vw,
      3: 6.3vw,
      4: 6.7vw,
      5: 6.85vw,
    ),
    mobile: (
      1: 4vw,
      2: 5vw,
      3: 6vw,
      4: 8.5vw,
      5: 10vw,
    ),
  ),
  code_v1: (
    desktop: (
      1: 1.5vw,
      2: 2vw,
      3: 2.25vw,
      4: 2.5vw,
      5: 3vw,
    ),
    tablet: (
      1: 4vw,
      2: 5vw,
      3: 6.3vw,
      4: 6.7vw,
      5: 6.85vw,
    ),
    mobile: (
      1: 4vw,
      2: 5vw,
      3: 6.3vw,
      4: 10vw,
      5: 12vw,
    ),
  ),
  quran-reading: (
    desktop: (
      1: 1.5vw,
      2: 2vw,
      3: 2.25vw,
      4: 2.5vw,
      5: 3vw,
    ),
    tablet: (
      1: 4vw,
      2: 5vw,
      3: 6.3vw,
      4: 6.7vw,
      5: 6.85vw,
    ),
    mobile: (
      1: 4vw,
      2: 5vw,
      3: 6.3vw,
      4: 10vw,
      5: 12vw,
    ),
  ),
  quran-translation: (
    desktop: (
      1: 1.5vw,
      2: 2vw,
      3: 2.25vw,
      4: 2.5vw,
      5: 3vw,
    ),
    tablet: (
      1: 2.6vw,
      2: 3.2vw,
      3: 4vw,
      4: 5vw,
      5: 6vw,
    ),
    mobile: (
      1: 4vw,
      2: 6vw,
      3: 7vw,
      4: 9vw,
      5: 11vw,
    ),
  ),
  translation: (
    desktop: (
      1: 0.9vw,
      2: 1vw,
      3: 1.15vw,
      4: 1.5vw,
      5: 2vw,
    ),
    tablet: (
      1: 1.8vw,
      2: 2.1vw,
      3: 2.5vw,
      4: 3.2vw,
      5: 4.2vw,
    ),
    mobile: (
      1: 2.5vw,
      2: 3vw,
      3: 4vw,
      4: 5vw,
      5: 6vw,
    ),
  ),
  tafsir: (
    desktop: (
      1: 1vw,
      2: 1.2vw,
      3: 1.4vw,
      4: 1.8vw,
      5: 2vw,
    ),
    tablet: (
      1: 1.8vw,
      2: 2.1vw,
      3: 2.8vw,
      4: 3.6vw,
      5: 4.5vw,
    ),
    mobile: (
      1: 3vw,
      2: 3.5vw,
      3: 4vw,
      4: 5vw,
      5: 6vw,
    ),
  ),
);

@function map-deep-get($map, $keys...) {
  @each $key in $keys {
    $map: map-get($map, $key);
  }
  @return $map;
}

@function get-scales($name, $device-type: "mobile") {
  @return map-deep-get($scales-map, $name, $device-type);
}

@mixin generate-font-sizes($name) {
  $mobile-scales: null;
  $desktop-scales: null;
  $tablet-scales: null;

  @if map.has-key($scales-map, $name) {
    $mobile-scales: get-scales($name, "mobile");
    $tablet-scales: get-scales($name, "tablet");
    $desktop-scales: get-scales($name, "desktop");
  } @else {
    $mobile-scales: get-scales("default", "mobile");
    $tablet-scales: get-scales("default", "tablet");
    $desktop-scales: get-scales("default", "desktop");
  }

  @for $i from 1 through constants.$maximum-font-step {
    .#{$name}-font-size-#{$i} {
      font-size: #{map.get($mobile-scales, $i)};
      @include breakpoints.tablet {
        font-size: #{map.get($tablet-scales, $i)};
      }
      @include breakpoints.desktop {
        font-size: #{map.get($desktop-scales, $i)};
      }
    }
  }
}

// Sets a max-width based on the device width. Inspired by the bootstrap container (https://getbootstrap.com/docs/5.0/layout/containers/).
$large-device-width-ratio: 95%;
$max-container-width: 112rem;
@mixin container() {
  width: 100%;

  @include breakpoints.tablet {
    width: $large-device-width-ratio;
    max-width: $max-container-width;
  }
}
