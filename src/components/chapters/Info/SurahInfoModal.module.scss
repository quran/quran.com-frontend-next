@use 'src/styles/breakpoints';

$calligraphy-offset: -0.875rem;
$container-min-height: 200px;
$line-height-relaxed: 1.6;

.headerContainer {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xsmall);
  padding-block-start: var(--spacing-large-px);
  padding-block-end: var(--spacing-mega);
  margin-block-end: var(--spacing-mega);
  border-block-end: var(--spacing-hairline-px) solid var(--color-borders-hairline);

  @include breakpoints.smallerThanTablet {
    margin-block-end: calc(2 * var(--spacing-small));
    padding-block-start: calc(2 * var(--spacing-small));
  }
}

.calligraphyContainer {
  max-inline-size: max-content;

  // The calligraphy SVG has a lot of whitespace on the left side in LTR, so we shift it left to visually center it.
  // If we applied this transform in RTL, it would shift the calligraphy further to the right, increasing whitespace on the right
  // and misaligning the calligraphy away from the main content. Therefore, only apply this transform for LTR layouts.
  :global([dir='ltr']) & {
    transform: translateX($calligraphy-offset);
  }
}

.surahName {
  font-size: var(--font-size-large2);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-default-new);
}

.detailsContainer {
  display: flex;
  color: var(--color-text-default-new);
  font-size: var(--font-size-normal);
  gap: var(--spacing-medium);
}

.detailItem {
  display: flex;
  flex-direction: row;
  align-items: baseline;
  gap: var(--spacing-xxsmall);
}

.detailHeader {
  font-weight: var(--font-weight-bold);
}

.descriptionContainer {
  color: var(--color-text-default-new);

  p,
  h2,
  h3,
  li,
  em {
    line-height: $line-height-relaxed;
  }

  @include breakpoints.tablet {
    /**
    * Adds a small inline-end padding to create visual spacing
    * between the content and the scrollbar.
    */
    padding-inline-end: var(--spacing-xxsmall);
  }

  @include breakpoints.smallerThanTablet {
    margin-block-end: var(--spacing-max);
  }

  p {
    margin-block-end: var(--spacing-medium3-px);
  }

  h2,
  h3 {
    font-weight: var(--font-weight-bold);
    margin-block-end: var(--spacing-medium3-px);
  }

  em {
    font-style: italic;
  }

  ol {
    display: block;
    list-style-type: decimal;
    margin-block-end: var(--spacing-medium);
    padding-inline-start: calc(2 * var(--spacing-large));
  }

  li {
    display: list-item;
    margin-block-end: var(--spacing-xxsmall);
  }

  & > *:last-child {
    margin-block-end: 0;
  }
}

.loadingContainer,
.errorContainer {
  display: flex;
  justify-content: center;
  align-items: center;
  min-block-size: $container-min-height;
  padding-block: var(--spacing-large);
}

.errorContainer {
  color: var(--color-text-error);
}

div {
  &.bottomSheetOnDesktopOverlay {
    @include breakpoints.tablet {
      overflow-y: hidden;
      align-items: flex-end;
      justify-items: center;
      padding-block-start: 0;
      padding-block-end: 0;
    }
  }
}

div {
  &.bottomSheetOnDesktopContent {
    @include breakpoints.tablet {
      border-radius: var(--border-radius-rounded) var(--border-radius-rounded) 0 0;
      block-size: 95vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      margin-block-end: 0;
      padding-block-end: 0;
    }
  }
}

div {
  &.surahInfoModalContent {
    @include breakpoints.tablet {
      flex: 1;
      min-block-size: 0;
      overflow-y: auto;
      padding-block-end: calc(1.5 * var(--spacing-mega));
    }
  }
}

.bottomSheetOnDesktopHeaderSeparator {
  display: none;
  @include breakpoints.tablet {
    display: block;
    padding-block-start: var(--spacing-medium3-px);
    border-block-end: var(--spacing-hairline-px) solid var(--color-borders-hairline);
  }
}

.bottomSheetOnDesktopInnerContent {
  @include breakpoints.tablet {
    /**
    * Acts as a non-scrollable flex container so that
    * scrollability is delegated to its inner content.
    */
    min-block-size: 0;
    display: flex;
    flex-direction: column;
  }
}

.resourceTabs {
  display: flex;
  gap: var(--spacing-small);
  margin-block-start: var(--spacing-medium);
  flex-wrap: wrap;
}

.resourceTab {
  background: transparent;
  border: 1px solid var(--color-borders-default);
  border-radius: var(--border-radius-small);
  padding: var(--spacing-xsmall) var(--spacing-medium);
  font-size: var(--font-size-small);
  color: var(--color-text-default);
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background: var(--color-background-surface-hover);
    border-color: var(--color-borders-hover);
  }

  &.resourceTabActive {
    background: var(--color-background-surface-selected);
    border-color: var(--color-primary-brand);
    color: var(--color-primary-brand);
    font-weight: var(--font-weight-medium);
  }
}
