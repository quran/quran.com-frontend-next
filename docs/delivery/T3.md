# Task T3: SSR Integration

## Objective
Integrate the locale detection and default settings logic into the Server-Side Rendering (SSR) flow of the application.

## Context
For a seamless user experience, the initial HTML payload from the server must be fully localized. This requires detecting the user's locale and fetching their default settings during the SSR process. This logic should be centralized, preferably within the `withSsrRedux` wrapper, to ensure it runs for all server-rendered pages.

## Files to Modify
- `src/utils/withSsrRedux.ts` (or the file containing the `withSsrRedux` wrapper)
- Page components under `src/pages/` that use `getServerSideProps`.

## Acceptance Criteria
- Inside the `withSsrRedux` wrapper, after the locale is detected (from Task T1), the logic checks if the user is a guest and has no persisted settings.
- If the conditions are met, the `getCountryLanguagePreference(languageCode, countryCode)` API is called to fetch the default settings.
- The `setDefaultsFromCountryPreference` thunk (from Task T2) is dispatched to populate the Redux store with the new settings before the page is rendered on the server.
